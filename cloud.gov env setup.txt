# create deployment account
cf create-service \
    cloud-gov-service-account \
    space-deployer \
    deployment-svc

# create deployment account service key
cf create-service-key \
    deployment-svc \
    deployment-svc-key

# retrieve deployment account service key
# store username and password as organization secrets in Github (CF_DEV_DEPLOYMENT_SVC, CF_DEV_DEPLOYMENT_SVC_PWD)
cf service-key \
    deployment-svc \
    deployment-svc-key

# select size of DB
SELECT pg_size_pretty( pg_database_size('cgawsbrokerprodr97macy19l') );

# create postgres instance
cf create-service \
    aws-rds \
    xlarge-gp-psql \
    camd-pg-db \
    -c '{ "storage": 100, "enable_functions": true }'

cf create-service \
    aws-rds \
    xlarge-gp-psql-redundant \
    camd-pg-db \
    -c '{ "storage": 100, "enable_functions": true }'

# create service keys for postgres access
cf create-service-key \
    camd-pg-db \
    camd-pg-db-informatica

cf create-service-key \
    camd-pg-db \
    camd-pg-db-developers